<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script type="text/javascript" src="data.js"></script>
        <link rel="stylesheet" href="style.css">
        <title>Transport</title>
    </head>
    <body>
        <header>
            <nav class="navbar">
                <a href="index.html">Taniti</a>
                <a href="index.html">Home</a>
                <div class="dropdown">
                    <button class="dropdown-link">
                        Tourism
                    </button>
                    <div class="dropdown-content">
                        <a href="restaurant.html">Restaurants</a>
                        <a href="grocery.html">Grocery</a>
                        <a href="lodging.html">Lodging</a>
                        <a href="entertainment.html">Entertainment</a>
                        <a href="sightseeing.html">Sightseeing</a>
                        <a href="transport.html">Transport</a>
                    </div>
                </div>
                <a href="contact.html">Contact</a>
                <div class="search">
                    <input type="text" placeholder="Search...">
                </div>
            </nav>
        </header>
        <h1 class="page_header">Transport</h1>
        <div class="flex">
            <div class="left">
                <div class="filters">
                    <h2>Filter Options</h2>
                    <div class="filter">
                        <p>Travel Type:</p>
                        <select class="filter_input" name="type_selector" id="selector">
                            <option value="Air">Air</option>
                            <option value="Sea">Sea</option>
                            <option value="Ground">Ground</option>
                        </select>
                    </div>
                    <div class="filter">
                        <p>Transport Type:</p>
                        <select class="filter_input" name="type_selector" id="transport_type">
                            <option value="outer_island">Outer Island</option>
                            <option value="inner_island">Inner Island</option>
                        </select>
                    </div>
                    <div class="buttons">
                        <button onclick='applyFilter()''>Apply</button>
                        <button onclick='listObjects(Transport)''>Clear</button>
                    </div>
                </div>
                <div class="about">
                    <h2>Transport</h2>
                    <p>
                        Public buses serve Taniti City and run from 5 a.m. to 11 p.m. every day. Private buses serve the rest of the island. 
                        Taxis are available in Taniti City, and rental cars can be rented from a local rental agency near the airport. 
                        Bikes and helmets are available to rent from several vendors (helmets are required by law). 
                        Taniti City is fairly flat and very walkable. Many tourists stay in the area surrounding Merriton Landing: 
                        this area is easy to explore on foot.
                    </p>
                </div>
            </div>
            <div id="cards"></div>
        </div>
    </body>
    <script>
        listObjects(Transport);

        function applyFilter() {
            selectElement = document.getElementById('selector');
            transportElement = document.getElementById('transport_type') 
            let transport = Transport.filter((obj) => obj.transport_type === selectElement.value && obj.transport_dist >= transportElement.value).sort((a, b) => b.rating - a.rating);
            document.getElementById('cards').innerHTML = '';
            listObjects(transport);
        }

        function listObjects(array) {
            document.getElementById('cards').innerHTML = '';
            array.map((res) => (
                document.getElementById('cards').innerHTML += `
                    <div class="card">
                        <img src="${res.img}" alt="islands restaurant">
                        <div class="desc">
                            <div class="info">
                                <div class="pair">
                                    <p>Transport:</p>
                                    ${res.transport}
                                </div>
                                <div class="pair">
                                    <p>Phone Number:</p>
                                    ${res.phone_number}
                                </div>
                                <div class="pair">
                                    <p>Type:</p>
                                    ${res.transport_type}
                                </div>
                                <div class="pair">
                                    <p>Hours:</p>
                                    ${res.hours}
                                </div>
                            </div>
                            <p>${res.description}</p>
                        </div>
                    </div>
                `
            ))
        }
    </script>
</html>